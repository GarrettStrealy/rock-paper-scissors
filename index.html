<!DOCTYPE html>
<html>
<head>
<title>Rock Paper Scissors</title>
</head>
<body>
	<script>
		// Determine computer's play for each round
		function computerPlay() {
			var myArray = ['Rock', 'Paper', 'Scissors']; 
			var rand = myArray[Math.floor(Math.random() * myArray.length)];
			return rand
		}

		let result;

		// Play a single round of 'rock, paper scissors'
		function playRound (playerSelection, computerSelection) {
			playerSelection = prompt('Do you select rock, paper or scissors?', '');
			computerSelection = computerPlay();
			playerSelection = playerSelection.toLowerCase();
			if (playerSelection === 'rock' && computerSelection === 'Paper') {
				alert('You Lose! Paper beats Rock');
				result = 'lose';
			} else if (playerSelection === 'paper' && computerSelection === 'Rock') {
				alert('You Win! Paper beats Rock');
				result = 'win';
			} else if (playerSelection === 'scissors' && computerSelection === 'Rock') {
				alert('You Lose! Rock beats Scissors');
				result = 'lose';
			} else if (playerSelection === 'rock' && computerSelection === 'Scissors') {
				alert('You Win! Rock beats Scissors');
				result = 'win';
			} else if (playerSelection === 'paper' && computerSelection === 'Scissors') {
				alert('You Lose! Scissors beats Paper');
				result = 'lose';
			} else if (playerSelection === 'scissors' && computerSelection === 'Paper') {
				alert('You Win! Scissors beats Paper');
				result = 'win';
			} else if (playerSelection === 'rock' && computerSelection === 'Rock') {
				alert('Tie! Rock ties Rock');
				result = 'tie';
			} else if (playerSelection === 'paper' && computerSelection === 'Paper') {
				alert('Tie! Paper ties Paper');
				result = 'tie';
			} else if (playerSelection === 'scissors' && computerSelection === 'Scissors') {
				alert('Tie! Scissors ties Scissors')
				result = 'tie';
			} else {
				alert("You didn't make a valid selection! Refresh page to start over!")
				return;
			}
		}
		// play a 5 round game
		function playGame() {
			let playerScore = 0;
			let computerScore = 0;
			playRound();
			if (result === 'win') {
				playerScore = playerScore + 1;
			} else if (result === 'lose') {
				computerScore = computerScore + 1;
			};
			playRound();
			if (result === 'win') {
				playerScore = playerScore + 1;
			} else if (result === 'lose') {
				computerScore = computerScore + 1;
			};
			playRound();
			if (result === 'win') {
				playerScore = playerScore + 1;
			} else if (result === 'lose') {
				computerScore = computerScore + 1;
			};
			playRound();
			if (result === 'win') {
				playerScore = playerScore + 1;
			} else if (result === 'lose') {
				computerScore = computerScore + 1;
			};
			playRound();
			if (result === 'win') {
				playerScore = playerScore + 1;
			} else if (result === 'lose') {
				computerScore = computerScore + 1;
			};
			let gameResult;
			if (playerScore > computerScore) {
				gameResult = 'You win! Refresh to play again!';
			} else if (playerScore < computerScore) {
				gameResult = 'Computer wins! Refresh to try again!'
			} else {
				gameResult = 'You tied! Refresh to try again!'
			}
			alert('The final score is ' + playerScore + ' - ' + computerScore + '!' + ' ' + gameResult)
		}

		playGame();
	</script>
</body>
</html>